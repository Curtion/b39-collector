# 介绍
这是使用ESP32-S3采集B39数据并进行HTTP上报的固件

# 说明

建议使用`N8R8`套餐的[ESP32-S3 开发板](https://item.taobao.com/item.htm?id=669443108979), 除非你知道怎么修改EDP-IDF工程配置

当前代码从原理上适用任何支持WIFI的ESP32开发板, 只是需要你根据实际情况修改引脚定义和LED指示灯代码

> 注意, 该开发板需要短接背面的USB-OTG焊盘, 否则USB口无法正常对外供电

# 固件特点

 - SmartConfig 配网方式, 方便用户连接 WiFi 热点
 - 支持Web页面配置数据上报的地址

# 使用方法

1. 安装并配置`ESP-IDF`开发环境, 版本建议`v5.5.2`
2. 开发板COM口连接电脑, 编译并下载固件
3. 使用Esptouch APP进行配网(开发板通电后如果没有连接到已知WiFi热点, 会自动进入配网模式2分钟)
4. 如果需要重新配网, 请短接`14引脚`和`GND引脚`3秒以上, 然后松开, 设备会重启并进入配网模式
5. 配网成功后, 访问设备的ip配置上报地址配置
6. 使用时开发板的USB口连接B39

## LED 状态指示说明

设备使用板载 WS2812B LED（RGB 灯珠）指示当前运行状态。不同颜色和闪烁模式对应的含义如下：

| 状态 | 颜色 | 模式 | 含义及优先级 |
| :--- | :--- | :--- | :--- |
| **数据传输** | 青色 (Cyan) | 常亮 | 正在发送数据 (覆盖其他状态) |
| **HTTP 错误** | 黄色 (Yellow) | 慢闪 (500ms) | 上传数据失败或服务器通信异常 |
| **配网模式** | 蓝色 (Blue) | 快闪 (200ms) | 正在进行 SmartConfig 配网 |
| **WiFi 连接中** | 紫色 (Purple) | 慢闪 (500ms) | 正在尝试连接 WiFi 热点 |
| **正常工作** | 绿色 (Green) | 常亮 | WiFi 已连接，设备待机就绪 |
| **关闭** | 黑色 (Off) | 灭 | LED 关闭 |
